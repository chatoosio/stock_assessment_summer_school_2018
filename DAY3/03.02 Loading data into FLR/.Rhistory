setwd("~/stock_assessment_summer_school_Module2/Days/03_WED/03.02 Loading data into FLR")
library(FLCore)
# Checking the working directory
getwd()
catch.n <- read.table("hke_9_10_11_catch_n.csv")
catch.n
catch.n <- read.table("hke_9_10_11_catch_n.csv", sep=',')
catch.n <- read.table("hke_9_10_11_catch_n.csv", header=TRUE, sep=',')
catch.n <- read.csv("hke_9_10_11_catch_n.csv")
class(catch.n)
as.matrix(catch.n[1:7, -1])
catch.n.matrix <- as.matrix(catch.n[1:7, -1])
catch.n.matrix
catch.n.flq <- FLQuant(catch.n.matrix, dimnames=list(age=0:6, year = 2006:2014))
catch.n.flq
catch.n <- read.csv("hke_9_10_11_catch_n.csv", header=FALSE)
catch.n
as.matrix(catch.n[2:8, -1])
catch.n.flq <- FLQuant(catch.n.matrix, dimnames=list(age=0:6, year = 2006:2014))
plot(catch.n.flq)
catch.wt <- read.csv("hke_9_10_11_catch_wt.csv", header=FALSE)
catch.wt.matrix <- as.matrix(catch.wt[2:8, -1])
catch.wt.flq <- FLQuant(catch.wt.matrix, dimnames=list(age=0:6, year = 2006:2014))
hke.stk <- FLStock(catch.n = catch.n.flq, catch.wt = catch.wt.flq)
units(harvest(hke.stk)) <- "f"
class(hke.stk)
catch(hke.stk) <- computeCatch(hke.stk)
plot(catch(hke.stk))
plot(hke.stk)
mat <- read.csv("hke_9_10_11_catch_m.csv", header=FALSE)
m <- read.csv("hke_9_10_11_catch_m.csv", header=FALSE)
m <- read.csv("hke_9_10_11_m.csv", header=FALSE)
m.matrix <- as.matrix(m[2:8, -1])
m.flq <- FLQuant(m.matrix, dimnames=list(age=0:6, year = 2006:2014))
m.flq
matrix(c(0, 0.22, 0.87, 1, 1,1), nrow=6, ncol=9)
FLQuant(matrix(c(0, 0.22, 0.87, 1, 1,1), nrow=6, ncol=9),
dimnames=list(age=0:6, year = 2006:2014))
FLQuant(matrix(c(0, 0.22, 0.87, 1, 1,1,1), nrow=6, ncol=9),                    dimnames=list(age=0:6, year = 2006:2014))
FLQuant(matrix(c(0, 0.22, 0.87, 1, 1,1,1), nrow=7, ncol=9), dimnames=list(age=0:6, year = 2006:2014))
mat.flq <- FLQuant(matrix(c(0, 0.22, 0.87, 1, 1,1,1), nrow=7, ncol=9), dimnames=list(age=0:6, year = 2006:2014))
matrix(rep(0)), nrow=7, ncol=9)
matrix(rep(0), nrow=7, ncol=9)
m.spawn <-  FLQuant(matrix(rep(0), nrow=7, ncol=9), dimnames=list(age=0:6, year = 2006:2014))
harvest.spawn <-  FLQuant(matrix(rep(0), nrow=7, ncol=9), dimnames=list(age=0:6, year = 2006:2014))
hke.stk <- FLStock(catch.n = catch.n.flq,
catch.wt = catch.wt.flq,
harvest.spwn = harvest.spawn)
hke.stk <- FLStock(catch.n = catch.n.flq,
catch.wt = catch.wt.flq,
harvest.spwn = harvest.spawn,
m.spawn = m.spawn,
m = m)
hke.stk <- FLStock(catch.n = catch.n.flq,
catch.wt = catch.wt.flq,
harvest.spwn = harvest.spawn,
m.spwn = m.spawn,
m = m)
hke.stk <- FLStock(catch.n = catch.n.flq,
catch.wt = catch.wt.flq,
harvest.spwn = harvest.spawn,
m.spwn = m.spawn,
m = m.flq)
hke.stk <- FLStock(catch.n = catch.n.flq,
catch.wt = catch.wt.flq,
harvest.spwn = harvest.spawn,
m.spwn = m.spawn,
m = m.flq,
mat = mat.flq)
units(harvest(hke.stk)) <- "f"
# Compute total catch
catch(hke.stk) <- computeCatch(hke.stk)
plot(catch(hke.stk))
summary(hke.stk)
library(FLa4a)
catch.n_idx <- read.csv("hke_9_10_11_idx.csv", header = TRUE, row.names = 1)
catch.n_idx.matrix <- as.matrix(catch.n_idx[1:6, ])
hke.idx <- FLQuant(catch.n_idx.matrix, dimnames=list(age=0:5, year = 2006:2014))
hke.idx <- FLIndex(catch.n = hke.idx)
hke.idx <- FLIndices(hke.idx)
hke.idx[[1]]@range[c('startf', 'endf')] <- c(0.66,0.75)
fit<- sca(hke.stk, hke.idx)
stk <- hke.stk + fit
plot(stk, main="Stock summary")
